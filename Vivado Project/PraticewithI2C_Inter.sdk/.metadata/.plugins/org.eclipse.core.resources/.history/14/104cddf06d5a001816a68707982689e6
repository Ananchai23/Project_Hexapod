//
// File: RBF2Test3.cpp
//
// MATLAB Coder version            : 3.3
// C/C++ source code generated on  : 18-May-2018 12:36:21
//

// Include Files
#include "rt_nonfinite.h"
#include "MvAvgFilter3.h"
#include "RBF2Test3.h"

// Function Definitions

//
// Arguments    : const double data_TE[18]
// Return Type  : double
//
double RBF2Test3(const double data_TE[18])
{
  double WalkControls;
  double y;
  int j;
  double d0;
  int i1;
  static const double a[18] = { -0.68197336733549, -0.764929299111756,
    0.179490988612387, 0.70958570723541, -0.598123649926751, 0.536714097479252,
    0.179750789702911, 1.53476918915654, -0.792160049456583, 0.157443853136041,
    -3.66424273833015, -0.791572586462198, -0.430705887963306,
    -0.453673539557279, 0.0350659487633824, -0.547385074389143, 4.31798117638991,
    -0.0935279902243908 };

  static const double dv0[18] = { 0.0593880796463678, 0.0746924205707468,
    0.0718670257755538, 0.0751597134388092, 0.0905654332623181,
    0.0866149967626778, 0.0812108961358925, 0.0668217011974101,
    0.00495467075466138, 0.10865932619497, 0.1821470554564, 0.076760573329945,
    0.0799161192508723, 0.0804902948020342, 0.0780951736019458,
    0.125583326608687, 0.140774443117188, 1.49011611938477E-8 };

  static const double c[324] = { 0.243617118644068, 0.145699694915254,
    0.10557193220339, 0.194393338983051, 0.143264237288136, 0.120880779661017,
    0.242954423728813, 0.165531779661017, 0.127292644067797, 0.246698813559322,
    0.150835762711864, 0.102804881355932, 0.228440711864407, 0.159401610169491,
    0.138542406779661, 0.21672713559322, 0.138741186440678, 0.105290220338983,
    0.184651322033898, 0.187766101694915, 0.124310288135593, 0.188528237288136,
    0.194956745762712, 0.146577813559322, 0.231141406779661, 0.16134,
    0.111834593220339, 0.194426457627119, 0.125735271186441, 0.10759313559322,
    0.242076203389831, 0.156783830508475, 0.113375440677966, 0.252712966101695,
    0.137332847457627, 0.11304406779661, 0.22497806779661, 0.168563711864407,
    0.118710338983051, 0.187467898305085, 0.106864254237288, 0.126812254237288,
    0.219958, 0.18374013559322, 0.103285474576271, 0.224779203389831,
    0.134052440677966, 0.123995542372881, 0.21873193220339, 0.155193271186441,
    0.107576627118644, 0.231522491525424, 0.170783881355932, 0.135145949152542,
    0.221730762711864, 0.191262, 0.11773286440678, 0.208194661016949,
    0.167039423728814, 0.172490508474576, 0.219444305084746, 0.181735355932203,
    0.113524593220339, 0.225706915254237, 0.152608661016949, 0.127110305084746,
    0.233527152542373, 0.148731762711864, 0.151647627118644, 0.195387440677966,
    0.14334720338983, 0.125934050847458, 0.203439593220339, 0.171247728813559,
    0.134864237288136, 0.207581644067797, 0.157993305084746, 0.122736406779661,
    0.242838491525424, 0.143148355932203, 0.154232322033898, 0.250029033898305,
    0.143048813559322, 0.0988120847457628, 0.20768093220339, 0.134715118644068,
    0.125337593220339, 0.256341440677966, 0.160577898305085, 0.119124644067797,
    0.282502440677966, 0.156999237288136, 0.118329271186441, 0.215815915254237,
    0.144225237288136, 0.0924997118644068, 0.231240830508475, 0.160528203389831,
    0.120019203389831, 0.207150762711865, 0.120963694915254, 0.100916220338983,
    0.225425457627119, 0.120151711864407, 0.114717457627119, 0.256473898305085,
    0.150007508474576, 0.125403949152542, 0.218748525423729, 0.157380322033898,
    0.122139898305085, 0.208708237288136, 0.143910355932203, 0.133058423728814,
    0.238265542372881, 0.152989745762712, 0.120549440677966, 0.226568593220339,
    0.151034677966102, 0.132296169491525, 0.208575644067797, 0.129810949152542,
    0.123249966101695, 0.274400661016949, 0.138923406779661, 0.0952997118644068,
    0.220372084745763, 0.173153186440678, 0.113226288135593, 0.202445440677966,
    0.166012254237288, 0.145268966101695, 0.23089286440678, 0.166641830508475,
    0.129413322033898, 0.21911306779661, 0.129612118644068, 0.116689118644068,
    0.234554305084746, 0.147953050847458, 0.0852925084745763, 0.249747338983051,
    0.141143627118644, 0.0961777457627119, 0.221598118644068, 0.172888101694915,
    0.11269613559322, 0.188230016949153, 0.167602779661017, 0.143678423728814,
    0.238315372881356, 0.17031993220339, 0.133273677966102, 0.218019576271187,
    0.122289, 0.125039440677966, 0.236542457627119, 0.150222881355932,
    0.0872806779661017, 0.247096440677966, 0.138658406779661, 0.0980665254237289,
    0.261096525423729, 0.144407491525424, 0.120367152542373, 0.215451423728814,
    0.14071286440678, 0.123316322033898, 0.33209072881356, 0.154414593220339,
    0.163709254237288, 0.321354610169492, 0.183905728813559, 0.113723322033898,
    0.209155508474576, 0.127574220338983, 0.125155338983051, 0.311380559322034,
    0.162118711864407, 0.123515, 0.23457093220339, 0.196978, 0.140762440677966,
    0.223139, 0.153105728813559, 0.154381457627119, 0.318057576271186,
    0.20826086440678, 0.157579050847458, 0.229898711864407, 0.158589661016949,
    0.130987288135593, 0.233427762711864, 0.154397966101695, 0.131716457627119,
    0.279387677966102, 0.155342322033898, 0.148466694915254, 0.267210118644068,
    0.128866728813559, 0.106864254237288, 0.233427830508475, 0.152442983050847,
    0.118958847457627, 0.312109610169492, 0.219411288135593, 0.147157813559322,
    0.269463423728814, 0.174130610169491, 0.129347016949153, 0.201898762711864,
    0.160113949152542, 0.13614, 0.240419508474576, 0.167569644067797,
    0.13678613559322, 0.263631423728814, 0.132014508474576, 0.108637033898305,
    0.225226610169492, 0.136603779661017, 0.113110322033898, 0.303477644067797,
    0.17239113559322, 0.137813491525424, 0.276024271186441, 0.174097508474576,
    0.176648966101695, 0.20663720338983, 0.172192203389831, 0.0979340338983051,
    0.298424355932203, 0.154116305084746, 0.143231033898305, 0.255297677966102,
    0.132909169491525, 0.107825169491525, 0.159633440677966, 0.11312686440678,
    0.123664169491525, 0.345610305084746, 0.161008677966102, 0.140464305084746,
    0.289726101694915, 0.176201610169492, 0.126729322033898, 0.276190033898305,
    0.158092745762712, 0.118031050847458, 0.26966213559322, 0.153503203389831,
    0.136040542372881, 0.278476491525424, 0.178454898305085, 0.117086728813559,
    0.227645491525424, 0.151763762711864, 0.102689, 0.349238728813559,
    0.178322288135593, 0.199562677966102, 0.313302576271186, 0.163609830508475,
    0.129214508474576, 0.218566322033898, 0.212949559322034, 0.13744886440678,
    0.242490610169492, 0.167735322033898, 0.137747101694915, 0.256523847457627,
    0.169309305084746, 0.138608661016949, 0.277631389830508, 0.234521305084746,
    0.188925881355932, 0.231273881355932, 0.16095893220339, 0.139420457627119,
    0.314362881355932, 0.190897457627119, 0.151167237288136, 0.250111847457627,
    0.179813355932203, 0.153834627118644, 0.279884593220339, 0.149162491525424,
    0.152592084745763, 0.220620593220339, 0.168746, 0.123515186440678,
    0.176267881355932, 0.171065474576271, 0.120698525423729, 0.272578169491526,
    0.178902101694915, 0.113358813559322, 0.235631372881356, 0.155425152542373,
    0.107096152542373, 0.210066779661017, 0.155209830508475, 0.134715118644068,
    0.249399338983051, 0.154795677966102, 0.125867762711864, 0.253409033898305,
    0.169574389830508, 0.139006288135593, 0.273837288135593, 0.235068050847458,
    0.190897474576271, 0.233262050847458, 0.161472542372881, 0.136653576271186,
    0.31308713559322, 0.181486796610169, 0.154083220338983, 0.251089372881356,
    0.179664237288136, 0.153321016949153, 0.281342593220339, 0.139437033898305,
    0.152327 };

  //  Select 18(Torque) + 3 (Gyro)
  y = 0.0;
  for (j = 0; j < 18; j++) {
    d0 = 0.0;
    for (i1 = 0; i1 < 18; i1++) {
      d0 += -(data_TE[i1] - c[i1 + 18 * j]) * (data_TE[i1] - c[i1 + 18 * j]);
    }

    y += a[j] * std::exp(d0 / (2.0 * (dv0[j] * dv0[j])));
  }

  //  a signsum function
  WalkControls = (y >= 0.0) - (y < 0.0);

  //  if distance(d,1) <= distance(d,0),
  //      out = 1;
  //  else
  //      out = 0;
  //  end
  return WalkControls;
}

//
// File trailer for RBF2Test3.cpp
//
// [EOF]
//
